<h1 align = "center">实验1+2</h1> 

## 一、建模结果

本次实验选取的系统是OA系统，本系统开放给在在职员工申请审批。本次实验的建模结果包括结构化自然语言、UML类图、系统顺序图和用例图，具体如下图所示：
在职员工可使用本系统进行申请审批等操作，具体包括：登录系统、查看申请情况、创建申请、撤销申请、修改个人信息。系统管理员可以进行处理申请等操作，具体包括：登录系统、查看申请情况、处理申请、管理用户（添加、删除、修改）。

### 用例图
![image](https://github.com/user-attachments/assets/5f29ef0a-a279-4247-a884-1667a63e23ae)
其中用户数量3个，用例10个

### 系统顺序图
![image](https://github.com/user-attachments/assets/e6a371ab-76b4-4c3a-99aa-b627c7ef8c5d)
![image](https://github.com/user-attachments/assets/5ef588e5-90a2-41c4-bb78-8df7243b8b25)
共9个，位置及展示如图

### 类图
![image](https://github.com/user-attachments/assets/2d6d34db-06a5-498f-a55b-1f3b37275c6d)
概念类图8个

### 结构化自然语言
![image](https://github.com/user-attachments/assets/f879e305-eb47-472e-9bf5-242c838a0045)
其中用户11个，系统需求31个

## 二、需求原型化结果截图
![image](https://github.com/user-attachments/assets/760ae0b2-c95f-444b-869b-e81165f1f5df)

![image](https://github.com/user-attachments/assets/7bdb0885-e88c-4019-abdb-075f2d930718)

## 三、架构设计截图
划分模型
![image](https://github.com/user-attachments/assets/a44d14f5-a788-4f54-a894-ecb0857ea538)
![image](https://github.com/user-attachments/assets/7c2a3e55-c340-402f-95f3-5bfb02c089fe)



## 四、OA系统设计模型
### 功能模型
OA系统通常包含多个功能模块，以满足企业办公自动化的需求。常见的功能模块有：
- **用户管理**：涵盖用户的注册、登录、信息修改、权限分配等功能，支持多角色管理，如系统管理员、普通员工、领导等。
- **审批流程**：包括请假、报销、业务审批等流程，不同流程有不同的审批步骤和规则，可根据企业需求定制。
- **信息发布**：用于发布通知、公告、新闻等信息，方便员工及时获取企业动态。
- **文档管理**：实现文档的上传、下载、共享、版本控制和审批流程，支持文档搜索和分类。
- **日程管理**：员工可以创建、编辑和分享日历事件，进行会议室预订和资源调度，支持日程提醒和同步。
- **任务管理**：创建、分配和跟踪任务，设置任务优先级和截止日期，提供任务提醒和通知功能。
- **报表分析**：生成、导出和共享报表，提供数据可视化和分析工具，支持定制化报表和仪表板。

### 架构模型
- **多层架构**：
    - **界面层**：负责与用户进行交互，提供直观、易用的操作界面。可以采用现代化的前端技术，如Vue.js、React等，为用户提供良好的用户体验。
    - **业务逻辑层**：处理系统的业务逻辑，包括业务规则的制定和执行。可以进一步细分为业务外观、业务规则和数据访问三层，实现各层之间的数据交互和处理。
    - **数据层**：负责数据的存储和管理，使用关系型数据库（如MySQL、Oracle）存储结构化数据，使用NoSQL数据库（如MongoDB）存储非结构化数据。
- **微服务架构**：将系统拆分为多个独立的微服务，每个微服务专注于特定的业务功能，通过API进行通信。这种架构具有高可扩展性、高可用性和易于维护的特点，如Spring Cloud和Spring Boot常用于构建微服务。

### 数据模型
- **实体关系图（ER图）**：用于描述系统中实体之间的关系，如用户、部门、文档、流程等实体之间的关联。
- **数据库设计**：根据业务需求设计数据库表结构，确保数据的完整性和一致性。

### 行为模型
- **状态转换图**：描述系统中各个模块之间的状态变化，如用户登录状态的变化过程，包括未登录、登录中、登录成功和登录失败等状态。
- **工作流引擎**：负责定义、执行和管理企业的各种业务流程，通过可视化的流程设计工具，管理员可以轻松地创建和修改审批流程，满足企业不断变化的业务需求。

### 软件结构图
展示系统的软件组成部分及其之间的关系，如各个微服务之间的依赖关系和通信方式。

## OA系统微服务拆分
###  拆分原则
#### 单一职责原则
每个微服务只负责一个单一的业务，确保职责单一、功能完整。这样便于维护、测试和部署，降低服务之间的耦合度，使团队责任清晰，提高开发效率。例如，在OA系统中，用户管理微服务专注于用户的注册、认证、权限分配等操作，而文档管理微服务则负责文档的上传、下载、共享等功能。
#### 服务自治原则
每个微服务应拥有独立的开发、测试、运维、部署等过程，并且有自己独立的数据库。可将其视为一个单独的项目，不涉及其他无关业务，以保证系统的可扩展性和可靠性。如OA系统中的审批流程微服务，有自己独立的数据库来存储审批相关的数据，与其他微服务的数据相互隔离。
#### 轻量级通信原则
微服务间通过轻量级通信机制进行交互，要求通信协议体量轻、支持跨平台和跨语言，且具备操作性强、易于测试等特点，如REST通信协议。这样可以提高系统的灵活性和性能。
#### 接口隔离原则
定义微服务之间的接口时，要确保接口简洁明了，不包含不必要的功能，减少耦合。服务通过标准接口隔离，隐藏内部实现细节，可独立开发、测试、部署和运行，以服务为单位持续交付，降低沟通成本，提升服务稳定性。
#### 避免影响产品原则
一边进行产品功能迭代，一边完成服务化拆分。优先剥离比较独立的边界服务，如短信服务，从非核心服务入手，减少拆分对现有业务的影响，为团队提供练习和试错的机会。
#### 具备可扩展性原则
考虑每个服务的独立扩展性，以满足不同的负载需求。在跨进程网络通信的模型下，服务接口的定义要具备可扩展性，避免服务变更时出现问题。例如，采用封装类作为服务接口的参数类型，便于增加参数。
#### 容错性原则
设计微服务时要考虑服务的容错性，避免单点故障导致整个系统崩溃。可通过将可靠性要求高的核心服务和可靠性要求低的非核心服务拆分开来，重点保证核心服务的高可用。
####  演进式原则
微服务拆分不是一步到位的，应根据实际情况逐步展开。开始时可进行粗粒度划分，随着迭代过程逐步优化，避免服务数量的爆炸性增长。同时，要结合服务拆分场景，考虑业务发展的复杂度和团队人员规模。
